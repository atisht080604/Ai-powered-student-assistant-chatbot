{% if session.get('user_logged_in') %}
<!-- Floating Profile Button -->
<a href="{{ url_for('profile.edit_profile') }}" class="floating-profile-btn" id="profileFloatingBtn">
    <!-- Neon Chat Bubble -->
    <div class="floating-chat-bubble">
        <div class="floating-bubble-body">
            <div class="floating-spark"></div>
        </div>
        <div class="floating-bubble-tail"></div>
    </div>

    <!-- Notification Badge (Optional - shows if profile incomplete) -->
    {% if student and not student.email_verified %}
    <span class="profile-badge" id="profileBadge">!</span>
    {% endif %}

    <!-- Hover Tooltip -->
    <span class="profile-tooltip">Edit Profile</span>

    <!-- Active Indicator -->
    <div class="active-indicator"></div>
</a>

<!-- Optional: Add this script for enhanced interactions -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const profileBtn = document.getElementById('profileFloatingBtn');
        const profileBadge = document.getElementById('profileBadge');

        // Add click animation
        profileBtn.addEventListener('click', function (e) {
            // Add ripple effect
            const ripple = document.createElement('span');
            ripple.classList.add('ripple-effect');
            ripple.style.left = (e.offsetX || 0) + 'px';
            ripple.style.top = (e.offsetY || 0) + 'px';
            this.appendChild(ripple);

            // Remove ripple after animation
            setTimeout(() => {
                ripple.remove();
            }, 600);
        });

    
    });
</script>
{% endif %}